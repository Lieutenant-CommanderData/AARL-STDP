<mujoco>
    <!-- Global Options -->
    <option gravity="0 0 -9.81" timestep="0.0001"/>
    

    <!-- Muscle Class -->
    <default>
        <tendon width="0.025" rgba="0.95 0.3 0.3 1" limited="false"></tendon>
        <default class="muscle">
            <muscle ctrllimited="true" ctrlrange="0 1"></muscle>
        </default>
    </default>

    <!-- Load built-in textures for floor and sky -->
    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.2 0.2 0.2" rgb2="0 0 0" width="512" height="512"/>
        <texture name="grid" type="2d" builtin="checker" rgb1="0.1 0.2 0.3" rgb2="0.2 0.3 0.4" width="300" height="300"/>
        <material name="grid" texture="grid" texrepeat="8 8" reflectance="0"/>
    </asset>

    <!-- Parent world for everything to go into -->
    <worldbody>
        <!-- Floor geomerty placed in parent world -->
        <geom name="floor" size="10 10 0.01" type="plane" material="grid" pos="0 0 0"/>
        <!-- Placing top-down light in the parent world -->
        <light name="top-down-light" pos="0 0 2" diffuse="1 1 1" directional="true" dir="-0.25 -0.25 -1"/>
        <!-- Placing Camera at Desired Location -->
        <camera name="fixed" pos="0 -3 2" xyaxes="1 0 0 0 0.2 1"/>
        <camera name="Angle2" pos="4 -3 1" xyaxes="1 1.5 0 0 0 1"/>
        <camera name="Angle3" pos="-2 -2 1" xyaxes="1 -1.1 0 0 -.3 1"/>
        <camera name="Angle4" pos="8.396 -12.541 12.182" xyaxes="0.812 0.584 0.000 -0.353 0.491 0.797"/>
        <camera name="Angle5" pos="1.183 -0.425 1.794" xyaxes="0.387 0.922 -0.000 -0.099 0.042 0.994"/>

        <!-- Simulated elements in the world -->
        <body name="StationaryElement" pos="0 0 2">
            <geom name="StationaryElement" type="box" size="1 0.125 0.125" pos="0 0 0" mass="0.5" rgba="1 1 1 0.5" euler="0 0 0"/>

            <!-- End locations for the muscles on stationary body -->
            <site name="Stat-Muscle-R-A" pos="0.65 0.0 -0.130" size="0.01 0.01 0.01"/>
            <site name="Stat-Muscle-R-B" pos="0.95 0.0 -0.130" size="0.01 0.01 0.01"/>
            <site name="Stat-Muscle-L-A" pos="-0.65 0.0 -0.130" size="0.01 0.01 0.01"/>
            <site name="Stat-Muscle-L-B" pos="-0.95 0.0 -0.130" size="0.01 0.01 0.01"/>
            
            <!-- Leg element hanging below -->
            <body name="SwingingElement" pos="0 0 -0.675">
                <geom name="SwingingElement" type="box" size="0.125 0.125 0.5" pos="0 0 0" mass="0.5" rgba="1 1 1 1" euler="0 0 0"/>
                <joint name="ConnectorHinge" type="hinge" pos="0 0 0.675" axis="0 1 0" limited="true" range="-90 90" damping="1"/>

                <!-- End locations for the muscles on the swinging body -->
                <site name="Swing-Muscle-R-A" pos="0.125 0 0" size="0.01 0.01 0.01"/>
                <site name="Swing-Muscle-R-B" pos="0.125 0 0" size="0.01 0.01 0.01"/>
                <site name="Swing-Muscle-L-A" pos="-0.125 0 0" size="0.01 0.01 0.01"/>
                <site name="Swing-Muscle-L-B" pos="-0.125 0 0" size="0.01 0.01 0.01"/>
            </body>

            <!-- Reference block for Front-Of-Model Clarity -->
            <body name="FrontFaceReference" pos="0 -0.125 0">
                <geom name="FrontFaceReference" type="box" size="0.05 0.01 0.05" pos="0 0 0" rgba="0.7 0.5 0.7 1"/>
            </body>

        </body>
    </worldbody>

    <!-- Contact Rules -->
    <contact>
        <exclude body1="StationaryElement" body2="SwingingElement"/>
    </contact>

    <!-- Create the tendon connections -->
    <tendon>
        <!-- Creates tendon for muscle R-A -->
        <spatial name="Tendon-R-A">
            <site site="Stat-Muscle-R-A"/>
            <site site="Swing-Muscle-R-A"/>
        </spatial>
        <!-- Creates tendon for muscle R-B -->
        <spatial name="Tendon-R-B">
            <site site="Stat-Muscle-R-B"/>
            <site site="Swing-Muscle-R-B"/>
        </spatial>
        <!-- Creates tendon for muscle L-A -->
        <spatial name="Tendon-L-A">
            <site site="Stat-Muscle-L-A"/>
            <site site="Swing-Muscle-L-A"/>
        </spatial>
        <!-- Creates tendon for muscle L-B -->
        <spatial name="Tendon-L-B">
            <site site="Stat-Muscle-L-B"/>
            <site site="Swing-Muscle-L-B"/>
        </spatial>

    </tendon>
    
    <!-- Turns the Tendons into Muscles According to Muscle Class Defined Above -->
    <actuator>
        <muscle name="L-A" tendon="Tendon-L-A" class="muscle"/>
        <muscle name="L-B" tendon="Tendon-L-B" class="muscle"/>
        <muscle name="R-A" tendon="Tendon-R-A" class="muscle"/>
        <muscle name="R-B" tendon="Tendon-R-B" class="muscle"/>
    </actuator>

    <!-- Adds Sensors to the Tendons -->
    <sensor>
        <!-- Length Sensors to all Tendons -->
        <tendonpos name="Len-Tendon-L-A" tendon="Tendon-L-A"/>
        <tendonpos name="Len-Tendon-L-B" tendon="Tendon-L-B"/>
        <tendonpos name="Len-Tendon-R-A" tendon="Tendon-R-A"/>
        <tendonpos name="Len-Tendon-R-B" tendon="Tendon-R-B"/>
        
        <!-- Velocity Sensors to all Tendons -->
        <tendonvel name="Vel-Tendon-L-A" tendon="Tendon-L-A"/>
        <tendonvel name="Vel-Tendon-L-B" tendon="Tendon-L-B"/>
        <tendonvel name="Vel-Tendon-R-A" tendon="Tendon-R-A"/>
        <tendonvel name="Vel-Tendon-R-B" tendon="Tendon-R-B"/>
    </sensor>

</mujoco>